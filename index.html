<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Babylon.js Editor</title>
    
    <script src="./node_modules/es6-promise/dist/es6-promise.auto.js" type="text/javascript"></script>
    <script src="./node_modules/systemjs/dist/system.src.js" type="text/javascript"></script>

    <script src="./node_modules/jquery/dist/jquery.js" type="text/javascript"></script>
    <script src="./node_modules/w2ui/w2ui.js" type="text/javascript"></script>

    <link rel="stylesheet" type="text/css" href="./node_modules/w2ui/w2ui.css" />
    <link rel="stylesheet" type="text/css" href="./css/editor.css" />
</head>
<body>
    <script type="text/javascript">
        System.config({
            paths: {
                "babylonjs": "./node_modules/babylonjs/dist/preview release/babylon.max.js",
                "babylonjs-gui": "./node_modules/babylonjs-gui/babylon.gui.js",
                "cannonjs": "./node_modules/cannon/build/cannon.js",
                "dat-gui": "./node_modules/dat-gui/vendor/dat.gui.js",
                "raphael": "./node_modules/raphael/raphael.js",

                // Bundled editor's module path
                "babylonjs-editor": "./node_modules/babylonjs-editor/dist/babylonjs-editor.js"
            },
            packages: {
                './.build/editor/': {
                    defaultExtension: 'js'
                }
            },
            map: {
                css: "../node_modules/systemjs-plugin-css/css.js"
            },
            meta: {
                '*.css': { loader: 'css' },
                'cannonjs': { format: 'global' }
            },
        });

        System.import("../.build/editor/editor.js").then(function (e) {
            // Add BABYLON in window
            System.import("babylonjs").then(function (e) {
                window.BABYLON = e;
            });

            // Run editor
            var editor = window.editor = new e.default();
            editor.run();
            editor._createDefaultScene();
        });
    </script>

    <!-- REQUIRE MONACO EDITOR -->
    <script src="./node_modules/monaco-editor/min/vs/loader.js" type="text/javascript"></script>
    <script type="text/javascript">
        require.config({ paths: { 'vs': './node_modules/monaco-editor/min/vs' }});
        require(['vs/editor/editor.main'], function() {
            // Empty
		});
    </script>
</body>
</html>